<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>منصة متابعة الطلاب - حلقة الفتح</title>
    <script>
        // Tailwind Play CDN - inline config
        tailwind = { config: { theme: { extend: {} } } };
    </script>
    <script src="https://cdn.tailwindcss.com" onerror="console.warn('Tailwind CDN blocked, using fallback styles')"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Fallback styles if Tailwind is blocked */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    </style>
</head>
<body class="text-slate-800 pb-24">

<!-- Header -->
<header class="fixed top-0 left-0 right-0 bg-emerald-600 text-white z-50 shadow-lg">
    <div class="container mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-lg font-bold">حلقة الفتح</h1>
                <div class="text-emerald-100 text-xs flex items-center gap-2">
                    <span id="hijri-date">جاري التحميل...</span>
                    <button onclick="goToToday()" class="bg-emerald-700 hover:bg-emerald-800 px-2 py-0.5 rounded text-[10px] transition-colors">
                        اليوم
                    </button>
                </div>
                <div class="text-emerald-200 text-[10px]" id="month-year">جاري التحميل...</div>
            </div>
            <div class="flex gap-2 bg-emerald-700/50 p-1 rounded-lg">
                <button onclick="switchView('daily')" id="btn-view-daily" class="px-3 py-1.5 rounded-md text-sm transition-all font-medium">اليومية</button>
                <button onclick="switchView('students')" id="btn-view-students" class="px-3 py-1.5 rounded-md text-sm transition-all font-medium">الطلاب</button>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<main class="container mx-auto px-4 pt-24 transition-all duration-300" id="main-content">
    <!-- Views will be injected here -->
</main>

<!-- Offline Indicator -->
<div id="offline-indicator" class="fixed bottom-4 left-4 bg-slate-800 text-white text-xs px-3 py-1.5 rounded-full shadow-lg opacity-0 transition-opacity duration-300 flex items-center gap-2 pointer-events-none">
    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
    <span>تم الحفظ محلياً</span>
</div>

<script src="app.js"></script>
</body>
</html>
